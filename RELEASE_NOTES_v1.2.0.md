# 📦 PDF-MD-TOOLS v1.2.0 发布说明

**发布日期**: 2025-12-25  
**版本**: 1.2.0  
**构建日期**: 2025-12-25

---

## ✨ 新功能

### 🎯 就地输出模式

新增**就地输出模式**，现在支持两种输出方式：

#### 📂 集中输出模式（原模式）
- 所有转换后的 MD 文件和图片集中保存到指定的目标目录
- 适合需要统一管理输出文件的场景

```
目标目录/
├── doc1.md
├── doc2.md
├── images/
│   ├── doc1_p1_img1.png
│   └── doc2_p1_img1.png
```

#### 📍 就地输出模式（新增）
- MD 文件和图片目录直接保存在源 PDF 文件所在目录
- 每个 PDF 对应一个独立的图片目录
- 适合需要保持源文件目录结构的场景

```
源目录/
├── doc1.pdf
├── doc1.md          ← 同目录输出
├── doc1_images/     ← 独立图片目录
│   └── doc1_p1_img1.png
├── subdir/
│   ├── doc2.pdf
│   ├── doc2.md      ← 同目录输出
│   └── doc2_images/ ← 独立图片目录
```

### 🎨 界面优化

- ✅ 新增大而明显的输出模式单选按钮（蓝色高亮设计）
- ✅ 选择就地输出模式时，自动禁用目标目录选择
- ✅ 模式切换实时日志反馈
- ✅ 更清晰的视觉提示和状态显示

### 🛡️ 智能处理

- ✅ 自动检测输出目录写入权限
- ✅ 只读目录自动弹窗提示
- ✅ 覆盖模式默认选中（重新转换时覆盖已有文件）
- ✅ 完整的错误提示和友好的用户引导

---

## 🔧 技术改进

### 代码架构优化
- 重构转换逻辑，支持动态输出路径
- 优化图片目录管理，支持自定义子目录名称
- 改进错误处理机制，提供更详细的错误信息

### 核心模块更新
- `app.py`: 新增输出模式切换逻辑和 UI 组件
- `extractor.py`: 支持自定义图片子目录参数
- `converter.py`: 优化图片路径引用逻辑
- `build_exe.py`: 更新版本号到 1.2.0

---

## 📊 版本对比

| 功能 | v1.1.4 | v1.2.0 |
|------|--------|--------|
| 集中输出模式 | ✅ | ✅ |
| 就地输出模式 | ❌ | ✅ |
| 输出模式切换 | ❌ | ✅ |
| 自定义图片目录 | ❌ | ✅ |
| 权限检查 | 基础 | 增强 |
| UI 突出显示 | 标准 | 优化 |

---

## 📥 下载

### Windows 可执行文件
- **文件名**: `PDF-MD-TOOLS_v1.2.0.exe`
- **文件大小**: 58.3 MB
- **支持系统**: Windows 10/11 (64位)

### GitHub Release
访问 [Releases](https://github.com/hhtbing-wisefido/PDF-MD-TOOLS/releases/tag/v1.2.0) 页面下载

---

## 🚀 使用指南

### 集中输出模式
1. 选择 "📂 集中输出到目标目录"
2. 选择源 PDF 目录
3. 选择输出目标目录
4. 点击扫描并开始转换

### 就地输出模式
1. 选择 "📍 就地输出到源文件目录"
2. 选择源 PDF 目录（目标目录自动禁用）
3. 点击扫描并开始转换
4. 文件将直接输出到 PDF 所在目录

---

## ⚠️ 注意事项

### 就地输出模式使用建议
- ✅ 确保源目录可写（非只读）
- ✅ 适合需要保持原目录结构的场景
- ✅ 每个 PDF 生成独立的图片目录，便于管理
- ⚠️ 源目录只读时会提示错误，请改用集中输出模式

### 覆盖模式
- 重新转换时，默认选中"覆盖已有文件"
- 可以取消勾选以避免覆盖已有文件

---

## 🐛 已知问题

无重大已知问题。如有问题请提交 [Issue](https://github.com/hhtbing-wisefido/PDF-MD-TOOLS/issues)。

---

## 🙏 致谢

感谢所有用户的反馈和建议！

---

## 📝 更新日志

### v1.2.0 (2025-12-25)
- ✨ 新增就地输出模式
- ✨ 新增输出模式切换 UI
- 🎨 优化界面设计和用户体验
- 🛡️ 增强权限检查和错误提示
- 🔧 重构输出路径管理逻辑
- 📦 更新打包版本到 1.2.0

### v1.1.4 (2025-12-12)
- 基础功能完善
- PDF 批量转换
- 图片提取
- 左右分栏显示

---

**项目地址**: https://github.com/hhtbing-wisefido/PDF-MD-TOOLS
