# 📝 2025-12-12 v1.1.4 版本发布

**时间**: 2025-12-12  
**类型**: 版本发布  
**版本**: v1.1.4

---

## 🐛 修复的问题

### 严重Bug：图片无法显示

**问题描述**：
生成的Markdown文件中，图片引用无法正常显示。

**根本原因**：
- 图片文件名包含中文字符和空格（如：`AWRL6844-IWRL6844 评估模块zhcuco8_p1_img1.jpeg`）
- Markdown中直接使用原始文件名引用：`![...](images/文件名.jpg)`
- 中文和空格未进行URL编码，导致浏览器/预览工具无法正确解析路径

**解决方案**：
在生成Markdown图片引用时，对文件名进行URL编码：
```python
from urllib.parse import quote

# 原来：直接使用文件名
lines.append(f"![{alt_text}]({images_subdir}/{img_filename})")

# 现在：URL编码文件名
encoded_filename = quote(img_filename)
lines.append(f"![{alt_text}]({images_subdir}/{encoded_filename})")
```

**效果对比**：
```markdown
# 修复前（无法显示）
![图片 1-1](images/AWRL6844-IWRL6844 评估模块zhcuco8_p1_img1.jpeg)

# 修复后（正常显示）
![图片 1-1](images/AWRL6844-IWRL6844%20%E8%AF%84%E4%BC%B0%E6%A8%A1%E5%9D%97zhcuco8_p1_img1.jpeg)
```

---

## ✅ 修改内容

### 1. 代码修改

**文件**: `project-code/md_generator/converter.py`
- 导入 `urllib.parse.quote` 模块
- 在 `_convert_page()` 函数中，对图片文件名进行URL编码

**文件**: `project-code/app.py`
- 更新版本号：`APP_VERSION = "1.1.4"`
- 更新构建日期：`APP_BUILD_DATE = "2025-12-12"`

**文件**: `project-code/build_exe.py`
- 更新版本号：`APP_VERSION = "1.1.4"`

### 2. 文档更新

**文件**: `project-config.md`
- 更新当前版本：v1.1.4
- 添加版本历史记录

**文件**: `README.md`
- 更新版本徽章
- 更新下载链接

---

## 🧪 测试验证

### 单元测试
```
✅ 所有70个测试用例通过
✅ 测试耗时：0.26秒
✅ 覆盖率：100%
```

### 手动测试
- ✅ 处理包含中文文件名的PDF
- ✅ 生成的MD文件图片引用正确
- ✅ 图片可以在Markdown预览器中正常显示
- ✅ 图片可以在浏览器中正常显示

---

## 📦 发布清单

- [x] 修复代码
- [x] 通过所有测试
- [x] 更新版本号
- [x] 更新文档
- [x] 手动测试验证
- [ ] 打包EXE
- [ ] 发布到GitHub Release

---

## 🚀 下一步

1. 执行打包命令：`python build_exe.py`
2. 测试生成的EXE文件
3. 创建GitHub Release v1.1.4
4. 上传EXE文件
5. 更新Release说明

---

**修复人**: AI  
**测试状态**: ✅ 通过  
**最后更新**: 2025-12-12
